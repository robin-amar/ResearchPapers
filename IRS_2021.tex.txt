%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%                                                                
%%%  This LaTeX--file contains the guidelines for full     
%%%  papers for IRS 2021                                       
%%%                                                               
%%%  You need the following two files                               
%%%       * irs.cls                                               
%%%       * irs.tex   
%%%                                                     
%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[12pt,twoside,a4paper]{irs}
\usepackage{epsf,exscale,times}
\usepackage[english]{babel}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{fancyhdr}
\input{irs.tex}
\usepackage{color}
\usepackage{float}
\usepackage[ruled,vlined]{algorithm2e}

%%--------------------------------------------------------------------
%% Enter further packages required for your abstract


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

%%----------------------------------------------
%% Copyright notice (c) 2020 DGON
%%----------------------------------------------
\fancypagestyle{firststyle}
{
   \fancyhf{}
   \lfoot{ \footnotesize{The International Radar Symposium IRS 2021, June 21-23, 2021, Berlin, Germany\break     978-3-944976-30-3 \copyright  2021 DGON} }
   \rfoot{ \footnotesize {\thepage} }
}

\thispagestyle{firststyle}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{1pt}
\renewcommand{\footskip}{50pt}

\pagestyle{fancy}
\fancyfoot[RO,LE]{ \footnotesize {\thepage} }

%%----------------------------------------------------
%% Insert the title of your paper between the brackets
%%----------------------------------------------------
\title{Interference characteristics in FMCW Radars for Indoor Sensing}

%%---------------------------------------------
%% Insert authors name(s) and address(es)
%% mark the presenting author with $^\ast$
%%---------------------------------------------

\author{
Robin Amar, Mohammad Alaee-Kerahroodi, Bhavani Shankar M. R.}
\address{
    SnT, University of Luxembourg\\
    Luxembourg\\
	email: robin.amar@uni.lu\\[2mm]
	}



%%------------------------------------
%% The abstract starts here
%%------------------------------------
\abstract{
Radar based Indoor Sensing for Target classification with Multi-Sensor arrangement has gained a lot of attention. This often leads to the problem of Interference from other sensors. In order to understand the deterioration in detection performance of the sensor, Interference quantization is required to understand the maximum possible rise in Signal-to-interference-plus-noise ratio (SINR), target detection and classification. Using FMCW radar sensors, we intend to investigate three types of interference phenomenon that occurs for the radar sensors operating in the same band: "Same slope", "Similar slope" and "Intersecting slope". This paper discusses the results that have been generated in simulations on MATLAB using Monte-Carlo methods and further verified on hardware for all the three types of interference.
}

%%------------------------------------
%% The introduction starts here
%%------------------------------------

\section{Introduction}

Due to the inherent advantages of radar sensing, its applications are increasing in all domains. Its usage in Indoor Sensing for Target detection \& classification with multiple sensors has gained a lot of attention [\ref{appendix_1}]. Multi-sensor setup leads to mutual interference from neighboring radars operating simultaneously in "close proximity" and direct line of sight. Analyses and test results involving multiple radar sensors indicate that mutual interference can be substantial unless suitable mitigation techniques are employed. For a given system, its interference quantization (maximum possible rise in signal-to-interference ratio (SIR)) \& robustness is required to understand the target detection and classification capability of a sensor in worst scenarios. In this paper, the investigation has been conducted using FMCW radar sensors in simulation and on hardware.

The outline of this paper is as follows: "Theoretical description of the System model", "Measurement Setup" which further explains the impact of different types of Interference in Indoor environment, "Experimental results", "Conclusion \& next steps".

%%------------------------------------
%% System Model section
%%------------------------------------

\section{System Model}
\subsection*{Basics of FMCW radar}

In a general FMCW radar, frequency sweep, i.e., a chirp, is generated by a waveform generator. The generated chirp signal is split and sent into two different signal paths: one path is directed to the transmitter (Tx) antenna, while the other path is directed to the mixer correlator. Before the chirp is sent out on the Tx antenna it passes through a power amplifier (PA), which boosts the transmitted energy. It is also possible to introduce random interchirp idle periods in the chirp generation process to reduce the probability of mutual interference with other FMCW radars \cite{IEEE_2020_p2}. 

\begin{figure}
\centering
\includegraphics[width=0.7\textwidth]{images/SystemModel.pdf}
\caption{System Model description}	 \label{fig:SystemModel}
\end{figure} 

The transmit waveform of an FMCW radar with L consecutive linear FM chirps (or sweeps) can be expressed as

\begin{equation}\label{eq:1}
s(t) = \sum_{l=0}^{L-1} x(t - lT_c)
\end{equation} 
where the individual chirps are given by
\begin{equation}\label{eq:2}
x(t) = e^{j\phi(t)}rect_{T_c}(t), \quad  \phi(t)=2\pi(f_ct+0.5\alpha t^2)
\end{equation} 

Here, $\alpha$ = BW/T\textsubscript{c} is the chirp slope, BW denotes the sweep bandwidth, T\textsubscript{c} represents the chirp duration, f\textsubscript{c} is the carrier frequency, and rect\textsubscript{T\textsubscript{c}}(t) is square pulse of duration T\textsubscript{c}. The received reflected signal from a target is very weak due to its two-way free-space propagation path loss and the losses incurred during reflection and thus needs to be amplified with a low-noise amplifier (LNA) to maintain an acceptable signal-to-noise-ratio (SNR). The amplified signal from the target reflection is mixed with the Tx signal in the mixer, which is called dechirping. The round-trip delay and Doppler shift caused by the relative velocity of the target, shifts the frequency of the received signal compared to that of the transmitted signal. As a result, the mixer creates a beat signal that will pass through a low-pass filter and be digitized, yielding delay and Doppler estimates after transforming into frequency domain. In modern automotive radars, it is also possible to estimate azimuth and elevation of targets using multiple antennas by acquiring the signal in spatial domain \& further transforming them into frequency domain as an additional signal dimension (Range-fast chirp \& doppler-slow chirp as the first two dimensions).


\subsection*{FMCW radar signal processing chain}
Assuming there exists a single target (point scatterer), the received signal from it is characterized by a complex channel gain $\Gamma$ [including the effects of path loss, antenna gain and radar cross section (RCS)] with an overall round-trip propagation delay $\tau$ \emph{= 2R/c} and a doppler shift of $\nu$\textsubscript{T} = \emph{2v\textsubscript{T}/$\lambda$}, where \emph{R} and \emph{v\textsubscript{T}} denotes, respectively, the distance and relative radial velocity between the radar \& the target; \emph{c} is the speed of the EM wave propagation in air. Further, depending upon the dynamics of the scenario, the receive signal at the Victim sensor can be categorized into 3 signal models:

\subsubsection*{Signal Model: Stationary target and stationary sensor }
\begin{equation}\label{eq:3}
    r(t) = \Gamma \sum_{l=0}^{L-1} x(t - lT_c - \tau)
\end{equation}

\subsubsection*{Signal Model: Relative velocity \emph{v} between target \& sensor}
\begin{equation}\label{eq:4}
    r(t) = \Gamma \sum_{l=0}^{L-1} x_l(t - lT_c - \tau).e^{j2\pi \nu_T}
\end{equation}

Assuming there can be P interferers in the FoV of the victim sensor, with different chirp repetition time T\textsubscript{c\textsubscript{p}} and bandwidth BW\textsubscript{p} which leads to non-identical chirp slopes $\beta$\textsubscript{p} (where $\beta$\textsubscript{p} = BW\textsubscript{p}/T\textsubscript{c\textsubscript{p}}). Therefore, the cumulative signal of all the interferers can be given by 
\begin{equation}\label{eq:5}
y(t) = \sum_{p=0}^{P-1} \sum_{i=0}^{I-1} \zeta_p y_p(t - iT_{c_p})
\end{equation} 
where individual interferers are
\begin{equation}\label{eq:6}
y_p(t) = e^{j\psi(t)}rect_{T_{c_p}}(t), \quad  \psi(t)=2\pi(f_ct+0.5\beta_p t^2), I = LT_c/T_{c_p}
\end{equation}



\subsubsection*{Signal Model: Relative velocity \emph{v} between target \& sensor + P Interferers}
\begin{equation}\label{eq:7}
    r(t) = \Gamma \sum_{l=0}^{L-1} x_l(t - lT_c - \tau).e^{j2\pi \nu_T} + y(t)
\end{equation}

%%------------------------------------
%% Measurement section
%%------------------------------------

\section{Measurement Setup}

\subsection*{Hardware Measurement}
The tests and measurements were performed in a controlled environment with minimum clutter from other stray targets. The hardware used for Victim radar sensor was: AWR1642-BOOST \& Interferering sensor hardwares were AWR1443, IWR1843-BOOST from TI.


%%% ---- Table start: enter the chirp configurations for Victim Radar -----
The table \ref{table:1} mentions the chirp parameters of the sensors used for the experiment.

\restylefloat{table}
\begin{table}[ht]
\centering
\begin{tabular}{||c c c c c||} 
 \hline
    & Victim sensor & Interferer 1 & Interferer 2 & Interferer 3\\ [0.5ex] 
 \hline\hline
 Carrier Freq (GHz)    & 77.00  & 77.00  & 77.00  & 77.00\\ 
 Freq Slope (MHz/us)   & 29.982 & x      & x      & x\\
 Chirp Time (us)       & 60     & x      & x      & x\\
 Bandwidth (GHz)       & 1.7982 & 1.7845 & 1.7845 & 1.7845\\
 Rx Gain (dB)          & 30     & x      & x      & x\\ 
 Sampling Freq (MHz)   & 10     & x      & x      & x\\
 Frame Time (ms)       & 40     & 100    & 100    & 100\\ [1ex] 
 \hline
\end{tabular}
\caption{chirp parameters of the sensors used for the experiment in controlled conditions inside a Radar Lab}
\label{table:1}
\end{table}
%%% ---- Table end -----

\begin{figure}[h]
   \centering
   \includegraphics[width=0.7\textwidth]{images/rect11.png}
   \caption{Diagram that depicts the Victim Sensor and Interferer arrangement}
	 \label{fig:DiagVctm_Int_arrng}
\end{figure}


\begin{figure}[h]
   \centering
   \includegraphics[width=0.7\textwidth]{images/Victim_Interferer_Sensor_Arngmnt.pdf}
   \caption{Actual measurement setup: Victim Sensor and Interferer arrangement}
	 \label{fig:Actl_Vctm_Int_arrng}
\end{figure} 

The recordings were performed in the following sequence:
\begin{itemize}
    \item Only Victim sensor operating, but fully covered with Absorbing sheet; Motive: Measure Thermal noise estimate of the victim sensor
    \item Only Victim sensor operating, All interferers placed at the planned location but all switched OFF; Motive: Measure the Clutter + Passive targets from the room
    \item Victim sensor operating, only One interferer should be switched ON; Motive: Measure the Interference of 1 interferer
    \item similarly, introduce new interferers
\end{itemize}






\subsection*{Simulation}

The simulations were performed on MATLAB using the above mentioned victim \& interferer sensor characteristics. As in simulation, the number of interferers could be increased to a higher number therefore, 20 Interferers were injected into the scenario for both parallel and sweeping interference. This enabled us to manifest the deteriorated performance of the sensor in the worst possible interference setup that can happen in an indoor envrionment.
In order to derive more reliable results, Monte Carlo simulations were run on the PC to derive better estimate for the parameters: SnR, detection probability and spectrum states in different ranges of the approaching target.

\subsubsection*{Pseudo Code}

\begin{algorithm}[H]
    \SetAlgoLined
    \KwResult{Write here the result }
    Configure Chirp characteristics of Victim Sensor \& Interferer Sensors\;
    Configure Target dynamics \& Reflection property\;
    \While{target distance \geq 1 meter}
    {
        \For{L Chirps}
        {
            Rx Signal $\longleftarrow$ Tx Signal manipulation: Tx gain, channel gain, Rx gain\;
            Rx Signal $\longleftarrow$ superimpose the Interferer signal & Rx signal\;
            add thermal noise\;
            de-chirp with Tx Signal\;
        }
        perform 2D FFT\;
        perform OS-CFAR\;
        Thresholding\;
        SnR evaluation at known target location\;
        Update Target location\;
    }
\caption{derive detection probability and SNR with single target}
\end{algorithm}


\section{Results}

The results referred in Fig \ref{fig:SnR}, indicate the degradation in the Signal-to-Noise ratio w.r.t. increasing range of the Target. Detection probability was derived from SnR characteristics [refer Fig: \ref{fig:PD}] using the relationship mentioned below:
\begin{equation}\label{eq:PD_vs_SnR}
P_D = (P_{FA})^{\frac{1}{1+SNR}}
\end{equation} 

% figure attachment
\begin{figure}[h]
   \centering
   \includegraphics[width=0.7\textwidth]{images/PD_vs_Rng_MntCrl_72Cyc_100Itrns_PARFOR.png}
   \caption{Detection Probability vs Range}
	 \label{fig:PD}
\end{figure} 

\begin{figure}[h]
   \centering
   \includegraphics[width=0.7\textwidth]{images/SnR_vs_Rng_MntCrl_72Cyc_100Itrns_PARFOR.png}
   \caption{Signal to Noise Ratio (SnR) vs Range}
	 \label{fig:SnR}
\end{figure} 

\begin{figure}[h]
   \centering
   \includegraphics[width=0.7\textwidth]{images/RngDop_ltx_3Interf.png}
   \caption{Interferers appearing in the Range-Doppler response obtained from device measurements}
	 \label{fig:Vctm_Int_RngDop_Resp}
\end{figure} 



\section{Conclusion}
    

\section{Appendix}
\subsection{Applications in Indoor sensing}\label{appendix_1}
Applications in Indoor sensing are mentioned below:
\begin{itemize}
\item Parking lot management
\item Dangerous machine lock / cut-off
\item Robot positioning
\item New-born and premature baby monitoring
\item Elderly fall and emergency detection
\item Vibration mapping for predictive maintenance
\item Unmanned vehicle guidance
\item Drone swarm collision avoidance
\item People counting and people flow management
\item Access control
\item Flash and run-through body scanners
\item Molecular fingerprints
\item Automotive interior monitoring
\end{itemize}



\vsp{1em}

\def\bibname{LIT}
\begin{thebibliography}{88}
\def\bibname{LIT}

\bibitem{MOSARIM2012}
MOSARIM: "Recommendations on sensor design, mounting and operational parameters to minimize radar interference", Report dated 6.12.2012.
\bibitem{Richards12}
"Principles of Modern Radar - Basic Principles", \emph{Richards, M.A., Eds, et al; 2010}

\bibitem{Skolnik21}
"Radar Handbook", \emph{Merill I. Skolnik,  Eds, et al; 2008}

\bibitem{Levanon}
"Radar Signals", \emph{Nadav Levanon and Eli Mozeson  Eds, et al; 2004}

\bibitem{Alland23}
S. Alland, W. Stark, M. Ali and M. Hegde, "Interference in Automotive Radar Systems", \emph{IEEE signal processing magazine, September 2019, Vol.36(5), pp.45-59.} 

\bibitem{Interf45}
A. Aydogdu, M.F. Keskin, G.K. Carvajal, O. Eriksson, H. Hellsten, H. Herbertsson, E. Nilsson, M. Rydstrom, K. Vanas and H. Wymeersch, "Radar Interference Mitigation for Automated Driving", \emph{IEEE signal processing magazine, July 2020, Vol. 37(4), pp.72-84.}

\bibitem{TI_2020}
S. Rao and A. V.  Mani, "Interference Characterization in FMCW Radars", \emph{2020 IEEE Radar Conference (RadarConf20) }


\bibitem{IEEEletter1}
R. J. C. Middleton, "Dechirp-on-Receive Linearly Frequency Modulated Radar as a Matched-Filter Detector", \emph{ IEEE Transactions on Aerospace and Electronic Systems ( Volume: 48, Issue: 3, JULY 2012)}

\bibitem{IEEE_2020_p1}
 Gor Hakobyan, Martin Fink, Ayinhu Soyolin, Nour Mansour and Dirk Dahlhaus, "Sweep-based Spectrum Sensing Method for Interference-Aware Cognitive Automotive Radar"

\bibitem{IEEE_2020_p2}
Fatemeh Norouzian, Anum Pirkani, Edward Hoare, Mikhail Cherniakov and Marina Gashinova,  "Automotive Radar Waveform Parameters Randomisation for Interference Level Reduction"

\end{thebibliography}


\end{document}


%%%% Scratch Pad Area

\begin{comment}

%% My comments
    : i) the \emph{l}\textsuperscript{th} chirp of the received signal is given by
    \begin{equation}\label{eq:3}
        r_l(t) = \gamma x(t - \tau + l\nu T) + w_l(t),
    \end{equation}
    where \emph{0 $\leq$ t $\leq$ T} denotes the time relative to the beginning of the \emph{l}\textsuperscript{th} chirp and w\textsubscript{l}(t) is measurement noise. To obtain the beat signal at the intermediate frequency, the received signal \emph{r\textsubscript{l}(t)} in (\ref{eq:3}) is dechirped through conjugate mixing with the transmitted signal \emph{x(t)} in \ref{eq:2}.
    
    \begin{equation} \label{eq:4}
        y_l(t) = r_l(t)x^*(t) = \gamma e^{j2\pi f_c v(t+lT)}e^{-j2\pi \alpha \tau t}rect_T(t-\tau) + w_l(t)x^*(t)
    \end{equation}
    
    Let $\tau\textsubscript{max}$ denote the round-trip delay that corresponds to a maximum target range of interest (i.e.  $\tau\textsubscript{max} \leq \tau$), which is related to the radar bandwidth of interest \emph{$B\textsubscript{s}$} as $\tau\textsubscript{max} = \emph{B\textsubscript{s}}/ \alpha$. The analog-to-digital converter (ADC) bandwidth $B\textsubscript{adc} \leq B\textsubscript{s}$ imposes a limit on $B\textsubscript{s}$ and thus the maximum detectable range $\tau\textsubscript{max}$. After low pass filtering the beat signal in \ref{eq:4} with bandwidth $B\textsubscript{s}$, sampling with a period of $T\textsubscript{s}$ for $ \tau \textsubscript{max}  \leq t \leq T$, we rearrange into a slow time-fast time data matrix, where the $l\textsuperscript{th}$ row contains the samples of the $l\textsuperscript{th}$ chirp (fast time), while the $n\textsuperscript{th}$ column contains the $ n\textsuperscript{th}$ sample of each chirp (slow time).
    
    \begin{figure}
    \centering
    \includegraphics[width=0.7\textwidth]{images/Sys_Model.pdf}
    \caption{System Model description}	 \label{fig:SystemModel}
    \end{figure} 
    % Comment@Mohammad: {\color{red} I would recommend to make the image pdf and then insert the pdf to have the text as vector. Also, I would recommend to use Visio for plotting this figure}


%% Comments given in the template
    %Define abbreviations and acronyms the first time they are used in the text, even after they have been defined in the abstract. Abbreviations such as IEEE, SI, MKS, CGS, sc, dc, and rms do not have to be defined. Do not use abbreviations in the title or heads unless they are unavoidable.
    %You will need to determine whether or not your equation should be typed using either the Times New Roman or the Symbol font. 
    %You have to number equations consecutively. Equations should be entered inline $E=mc^2$ or in a separate line with equation numbering
    
    % Note that the equation is centered. Be sure that the symbols in your equation have been defined before or immediately following the equation. Use ``\eqref{eq:wn}'', not ``Eq.~\eqref{eq:wn}'' or ``equation~\eqref{eq:wn}'', except at the beginning of a sentence: ``Equation~\eqref{eq:wn} is \dots''.
    % The colorful version of figures will be implemented in the USB stick with the conference proceedings. 
    % Figure captions should be below the figures; table heads should appear above the tables. Insert figures and tables after they are cited in the text. Use the abbreviation ``Fig.~\ref{fig:sample}'', even at the beginning of a sentence. Use words rather than symbols or abbreviations when writing Figure axis labels to avoid confusing the reader. 
    % You have to number citations consecutively within brackets \cite{Alland23}. Do not use Ref.~\cite{Alland23} or reference~\cite{Alland23} except at the beginning of a sentence: Reference~\cite{Alland23} was the first \dots.
    %The electronic version must be submitted online in Acrobat PDF format to the conference organizers via the IRS 2021 website before the specified deadlines.
    
    % Maximum number of pages is limited to 10.
    % At least one author has to register and to pay the conference fee.
    % All final papers must be converted to PDF Format by the IEEE eXpress service.
    % Further information can be found on the web site: http://dgon-irs.org
    
    %% Quick Tips
    
    %Tip 1:
    %\begin{equation}\label{eq:1}
    %\begin{aligned}
    %s(t) &= \sum_{k=1}^{K-1} x(t - kT)\\
    %       &=\sum_{k=1}^{K-1} x(t - kT)
    %\end{aligned}
    %\end{equation}
\end{comment}